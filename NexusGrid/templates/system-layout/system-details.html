{% extends "dashboard/sidebar.html" %}
{% load static %}

{% block title %}| Layout System{% endblock title %}

{% block head %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<link href="{% static 'system_layout/css/system-layout.css' %}" rel="stylesheet">
{% endblock head %}

{% block main_content %}
<div class="container">
    <h1 class="text-center my-4">Computer System Details</h1>
    
    {% if system_info %}
    <div class="row">
        <!-- System Info -->
        <div class="col-md-6 mb-4">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <i class="fa fa-laptop-code me-2"></i>System Info
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><strong>Hostname:</strong> {{ system_info.hostname }}</li>
                        <li class="list-group-item"><strong>System:</strong> {{ system_info.system }}</li>
                        <li class="list-group-item"><strong>Version:</strong> {{ system_info.version }}</li>
                        <li class="list-group-item"><strong>Release:</strong> {{ system_info.release }}</li>
                        <li class="list-group-item"><strong>Machine:</strong> {{ system_info.machine }}</li>
                        <li class="list-group-item"><strong>Architecture:</strong> {{ system_info.architecture }}</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- CPU Info -->
        <div class="col-md-6 mb-4">
            <div class="card shadow">
                <div class="card-header bg-danger text-white">
                    <i class="fa fa-microchip me-2"></i>CPU Info
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><strong>Processor:</strong> {{ system_info.processor }}</li>
                        <li class="list-group-item"><strong>Physical Cores:</strong> {{ system_info.cpu_physical_cores }}</li>
                        <li class="list-group-item"><strong>Total Cores:</strong> {{ system_info.cpu_total_cores }}</li>
                        <li class="list-group-item"><strong>Max Frequency:</strong> {{ system_info.cpu_max_freq }}</li>
                        <li class="list-group-item"><strong>Min Frequency:</strong> {{ system_info.cpu_min_freq }}</li>
                        <li class="list-group-item"><strong>Current Frequency:</strong> {{ system_info.cpu_current_freq }}</li>
                        <li class="list-group-item"><strong>CPU Usage:</strong> {{ system_info.cpu_usage }}%</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Memory Info -->
        <div class="col-md-6 mb-4">
            <div class="card shadow">
                <div class="card-header bg-success text-white">
                    <i class="fa fa-memory me-2"></i>Memory Info
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><strong>Total Memory:</strong> {{ system_info.memory_total }}</li>
                        <li class="list-group-item"><strong>Available Memory:</strong> {{ system_info.memory_available }}</li>
                        <li class="list-group-item"><strong>Used Memory:</strong> {{ system_info.memory_used }}</li>
                        <li class="list-group-item"><strong>Memory Usage %:</strong> {{ system_info.memory_usage_percent }}%</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Disk Info -->
        <div class="col-md-6 mb-4">
            <div class="card shadow">
                <div class="card-header bg-warning text-dark">
                    <i class="fa fa-hdd me-2"></i>Disk Info
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><strong>Total Disk:</strong> {{ system_info.disk_total }}</li>
                        <li class="list-group-item"><strong>Used Disk:</strong> {{ system_info.disk_used }}</li>
                        <li class="list-group-item"><strong>Free Disk:</strong> {{ system_info.disk_free }}</li>
                        <li class="list-group-item"><strong>Disk Usage %:</strong> {{ system_info.disk_usage_percent }}%</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Network Info -->
        <div class="col-md-6 mb-4">
            <div class="card shadow">
                <div class="card-header bg-info text-white">
                    <i class="fa fa-network-wired me-2"></i>Network Info
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><strong>IP Address:</strong> {{ system_info.ip_address }}</li>
                        <li class="list-group-item"><strong>Bytes Sent:</strong> {{ system_info.bytes_sent }}</li>
                        <li class="list-group-item"><strong>Bytes Received:</strong> {{ system_info.bytes_received }}</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- User Info -->
        <div class="col-md-6 mb-4">
            <div class="card shadow">
                <div class="card-header bg-secondary text-white">
                    <i class="fa fa-users me-2"></i>User Info
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><strong>Users Count:</strong> {{ system_info.users_count }}</li>
                        <li class="list-group-item"><strong>Logged In Users:</strong> {{ system_info.logged_in_users }}</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Timestamp -->
        <div class="col-12 mb-4">
            <div class="card shadow">
                <div class="card-header bg-dark text-white">
                    <i class="fa fa-clock me-2"></i>Timestamp
                </div>
                <div class="card-body">
                    <p class="mb-0"><strong>Recorded At:</strong> {{ system_info.timestamp }}</p>
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <div class="alert alert-warning text-center" role="alert">
        <i class="fa fa-exclamation-circle"></i> No system information available.
    </div>
    {% endif %}
</div>
{% endblock main_content %}

{% block scripts %}
<script>
    const CSRF_TOKEN = "{{ csrf_token }}";
</script>
<script src="{% static 'system_layout/js/system-layout.js' %}"></script>
{% endblock scripts %}
